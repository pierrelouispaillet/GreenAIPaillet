import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Vos nouvelles données
data = np.array([
    [31509.81213, 23443.74449, 16715.61533, 8581.705796, 5173.369594],
    [29119.45673, 21665.28637, 15447.55758, 7930.69186, 4780.91432],
    [28799.4627, 21427.2063, 15277.8042, 7843.5414, 4728.3768],
    [26268.30992, 19543.99295, 13935.05496, 7154.181261, 4312.805017],
    [26146.71219, 19453.52252, 13870.54868, 7121.064087, 4292.840759],
    [26357.90825, 19610.65537, 13982.58591, 7178.58339, 4327.515522],
    [31321.01566, 23303.27725, 16615.46083, 8530.287025, 5142.372458],
    [37532.09978, 27924.41141, 19910.37394, 10221.87745, 6162.125721],
    [38399.2836, 28569.6084, 20370.4056, 10458.0552, 6304.5024],
    [34296.96014, 25517.4219, 18194.16727, 9340.786303, 5630.971394],
    [31157.8187, 23181.85642, 16528.88661, 8485.84029, 5115.578322],
    [29503.44957, 21950.98245, 15651.26164, 8035.272412, 4843.959344],
    [30498.631, 22691.41147, 16179.19465, 8306.310343, 5007.351031],
    [28437.86945, 21158.17582, 15085.98288, 7745.06138, 4669.009402],
    [25177.13028, 18732.13991, 13356.19594, 6856.998193, 4133.652074],
    [23225.1667, 17279.85148, 12320.70032, 6325.380387, 3813.173202],
    [23145.16819, 17220.33146, 12278.26198, 6303.592772, 3800.038822],
    [28389.87034, 21122.46381, 15060.51987, 7731.988811, 4661.128774],
    [31346.61518, 23322.32366, 16629.0411, 8537.259062, 5146.575459],
    [37244.10515, 27710.13935, 19757.5959, 10143.44204, 6114.841953],
    [37746.49578, 28083.92506, 20024.1087, 10280.26826, 6197.325859],
    [39359.26569, 29283.84861, 20879.66574, 10719.50658, 6462.11496],
    [39612.06097, 29471.93187, 21013.77091, 10788.35544, 6503.619601],
    [36543.31823, 27188.74399, 19385.836, 9952.582532, 5999.784784]
])

# Création de la grille
x = np.arange(data.shape[1])
y = np.arange(data.shape[0])
x, y = np.meshgrid(x, y)

# Création de la figure 3D
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

# Dessin du meshgrid 3D
ax.plot_surface(x, y, data, cmap='viridis')

# Réglage des graduations de l'axe X
ax.set_xticks([0, 1, 2, 3, 4])
ax.set_xticklabels([ 1, 0.8, 0.6, 0.4, 0.2])

# Réglage des graduations de l'axe Y
ax.set_yticks(np.arange(0, 25, 3))
ax.set_yticklabels(["{}h".format(i) for i in range(0, 25, 3)])

# Nommer les axes
ax.set_xlabel('Fraction de la base de données')
ax.set_ylabel('Heure de la journée')
ax.set_zlabel('Prix')

# Affichage du graphique
plt.show()
