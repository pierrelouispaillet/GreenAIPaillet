import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Nouveaux ensembles de données
dataAcc = np.array([0.9426000118255615, 0.9430000185966492, 0.9387000203132629, 0.9369000196456909, 0.9334999918937683, 0.9627000093460083, 0.9602000117301941, 0.9574999809265137, 0.9542999863624573, 0.9559000134468079, 0.9684000015258789, 0.96670001745224, 0.9639999866485596, 0.9643999934196472, 0.9642000198364258, 0.972000002861023, 0.9710000157356262, 0.9679999947547913, 0.9700999855995178, 0.9657999873161316, 0.9742000102996826, 0.9724000096321106, 0.9706000089645386, 0.9696999788284302, 0.9693999886512756])

timestamp = np.array([1685537467.58142, 1685537473.8851833, 1685537479.0414846, 1685537484.2324514, 1685537489.5882382, 1685537495.6236844, 1685537504.375575, 1685537513.059572, 1685537522.0708919, 1685537531.4322739, 1685537541.3933647, 1685537552.9585965, 1685537564.814638, 1685537577.1686707, 1685537590.3934867, 1685537603.7622933, 1685537618.8491166, 1685537634.3326466, 1685537650.080705, 1685537666.6094482, 1685537683.6401265, 1685537701.844688, 1685537720.373133, 1685537739.9058464, 1685537760.2394145])

duration = np.array([6.303110599517822, 5.155626058578491, 5.190302610397339, 5.355118036270142, 6.031732559204102, 8.751209497451782, 8.683342933654785, 9.010624647140503, 9.360458612442017, 9.960401773452759, 11.564468622207642, 11.85533618927002, 12.35324478149414, 13.223076820373535, 13.368111610412598, 15.086145877838135, 15.48274540901184, 15.74728512763977, 16.525433778762817, 17.03002095222473, 18.203889846801758, 18.527697801589966, 19.529306411743164, 20.33055353164673, 21.106438875198364])

package_0 = np.array([293415569.0, 283320685.0, 286400024.0, 299114408.0, 374943132.0, 498779729.0, 506735580.0, 531814252.0, 573039060.0, 628361490.0, 647016898.0, 659196188.0, 719624440.0, 797452609.0, 819655434.0, 825333031.0, 878473154.0, 880082525.0, 968277551.0, 1026967586.0, 988980928.0, 1008715130.0, 1108251313.0, 1180823942.0, 1240990719.0])

dram_0 = np.array([6018539.0, 4742541.0, 4961535.0, 5193835.0, 5841537.0, 8531473.0, 8731179.0, 9505957.0, 9960790.0, 10662082.0, 11916840.0, 12609098.0, 13656460.0, 14676171.0, 15111350.0, 16288045.0, 17040789.0, 17963699.0, 19216320.0, 19898509.0, 19922495.0, 20982674.0, 23068545.0, 25780696.0, 26979667.0])

core_0 = np.array([284249211.0, 278211080.0, 281206251.0, 293758342.0, 368918917.0, 490018216.0, 497984382.0, 522651555.0, 563455161.0, 618162663.0, 635284568.0, 647055289.0, 706898153.0, 783841987.0, 805835462.0, 809858217.0, 862567067.0, 863799424.0, 951106269.0, 1009227946.0, 970226520.0, 989559417.0, 1087887534.0, 1159309593.0, 1218646599.0])

nvidia_gpu_0 = np.array([236860, 232787, 233181, 238101, 276151, 395602, 395735, 411567, 430186, 462593, 534693, 552138, 571737, 617629, 620001, 702759, 724277, 739813, 771254, 802133, 857265, 869649, 917143, 958609, 1003009])





dataAcc = dataAcc.reshape(5, 5)
dataPackage0 = package_0.reshape(5, 5)
dataDram0 = dram_0.reshape(5, 5)
dataCore0 = core_0.reshape(5, 5)
dataNvidiaGpu0 = nvidia_gpu_0.reshape(5, 5)
duration = duration.reshape(5, 5)

dataPackage0E = dataPackage0/duration
dataDram0E = dataDram0/duration
dataCore0E  = dataCore0 /duration
dataNvidiaGpu0E = dataNvidiaGpu0/duration

y_values = [0.2, 0.4, 0.6, 0.8, 1]
x_values = [100, 150, 200, 250,300]

x = np.array(x_values)
y = np.array(y_values)

X, Y = np.meshgrid(x, y)

data_arrays = [dataAcc, dataPackage0, dataDram0]
data_arraysE = [dataAcc, dataPackage0E, dataDram0E]
titles = ['Accuracy', 'Processeur', 'RAM']

data_arrays2 = [duration, dataCore0 , dataNvidiaGpu0]
data_arrays2E = [duration, dataCore0E , dataNvidiaGpu0E]
titles2 = ['Duration', 'Coeur du processeur', 'GPU Nvidia']


fig, axes = plt.subplots(nrows=2, ncols=3, figsize=(18, 12), subplot_kw={'projection': '3d'})


for idx, (ax, data, title) in enumerate(zip(axes[0], data_arrays, titles)):
    ax.plot_wireframe(X, Y, data)
    ax.set_xlabel('Dimensionnalitée')
    ax.set_ylabel('Pourcentage de la base de donnees')
    ax.set_zlabel('Z')
    ax.set_title(title)

for idx, (ax, data, title) in enumerate(zip(axes[1], data_arrays2, titles2)):
    ax.plot_wireframe(X, Y, data)
    ax.set_xlabel('Nombre d epochs')
    ax.set_ylabel('Pourcentage de la base de donnees')
    ax.set_zlabel('Z')
    ax.set_title(title)

plt.show()